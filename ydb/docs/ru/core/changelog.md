# Список изменений

## 12.10.2022 {#12-10-2022}

**Что нового в версии 22.4**

Для обновления до версии **22.4** перейдите в раздел [Загрузки](downloads/index.md).

* {{ ydb-short-name }} Topics и Change Data Capture (CDC):
  * Представлен новый Topic API. [Топик](concepts/topic.md) {{ ydb-short-name }} — это сущность для хранения неструктурированных сообщений и доставки их различным подписчикам.
  * Поддержка нового Topic API добавлена в [{{ ydb-short-name }} CLI](reference/ydb-cli/topic-overview.md) и [SDK](reference/ydb-sdk/topic.md). Topic API предоставляет методы потоковой записи и чтения сообщений, а также управления топиками.
  * Добавлена возможность [захвата изменений данных таблицы](concepts/cdc.md) с отправкой сообщений об изменениях в топик.

* SDK:
  * Добавлена возможность взаимодействовать с топиками в {{ ydb-short-name }} SDK.
  * Добавлена официальная поддержка драйвера database/sql для работы с {{ ydb-short-name }} в Golang.

* Embedded UI:
  * Поток изменений CDC и вторичные индексы теперь отображаются в иерархии схемы базы данных как отдельные объекты.
  * Улучшена визуализация графического представления query explain планов.
  * Проблемные группы хранения теперь более заметны.
  * Различные улучшения на основе UX-исследований.

* Query Processing:
  * Добавлен Query Processor 2.0 — новая подсистема выполнения OLTP-запросов со значительными улучшениями относительно предыдущей версии.
  * Улучшение производительности записи составило до 60%, чтения до 10%.
  * Добавлена возможность включения ограничения NOT NULL для первичных ключей в YDB во время создания таблиц.
  * Включена поддержка переименования вторичного индекса в режиме онлайн без остановки сервиса.
  * Улучшено представление query explain, которое теперь включает графы для физических операторов.

* Core:
  * Для read-only транзакций добавлена поддержка консистентного снапшота, который не конфликтует с пишущими транзакциями.
  * Добавлена поддержка BulkUpsert для таблиц с асинхронными вторичными индексами.
  * Добавлена поддержка TTL для таблиц с асинхронными вторичными индексами.
  * Добавлена поддержка сжатия при экспорте данных в S3.
  * Добавлен audit log для DDL statements.
  * Поддержана аутентификация со статическими учетными данными.
  * Добавлены системные таблицы для диагностики производительности запросов.

## 20.09.2022 {#22-09-2022}

{{ ydb-short-name }} CLI 2.0.0:

* Добавлена возможность работы с топиками:
  * `ydb topic create` — создание топика;
  * `ydb topic alter` — изменение топика;
  * `ydb topic write` — запись данных в топик;
  * `ydb topic read` — чтение данных из топика;
  * `ydb topic drop` — удаление топика.

* Добавлен новый тип нагрузочного тестирования:
  * `ydb workload kv init` — создание таблицы для тестирования kv нагрузки;
  * `ydb workload kv run` — запуск одной из 3 видов нагрузки: запуск нескольких сессий вставки `UPSERT`, запуск нескольких сессий вставки `INSERT` или запуск нескольких сессий с GET-запросами по первичному ключу;
  * `ydb workload kv clean` — удаление тестовой таблицы.

* Добавлена возможность деактивировать текущий активный профиль (см. команду `ydb config profile deactivate`).
* Добавлена возможность неинтерактивного удаления профиля без подтверждения (см. параметр `--force` команды `ydb config profile remove`).
* Добавлена поддержка CDC для команды `ydb scheme describe`.
* Добавлена возможность просмотра текущего статуса БД (см. команду `ydb monitoring healthcheck`).
* Добавлена возможность просмотра аутентификационной информации (токена), с которой будут отправляться запросы к БД при текущих настройках аутентификации (см. команду `ydb auth get-token`).
* Добавлена возможность чтения данных из стандартного потока ввода для команды `ydb import`.
* Добавлена возможность импорта данных в формате JSON из файла или стандартного потока ввода (см. команду `ydb import file json`).
* Улучшен процессинг команд. Парсинг и валидация пользовательского ввода теперь более точные.

## 25.06.2022 {#25-06-2022}

{{ ydb-short-name }} CLI 1.9.1:

* Добавлена возможность сжатия данных при экспорте в S3-совместимое хранилище (см. параметр `--compression` команды [ydb export s3](reference/ydb-cli/export_import/s3_export.md)).
* Добавлена возможность управления автоматической проверкой доступности новой версии {{ ydb-short-name }} CLI (см. параметры `--disable-checks` и `--enable-checks` команды [ydb version](reference/ydb-cli/version.md)).
